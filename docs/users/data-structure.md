---
title: Data structure
---

ここではCIRCUSの利用に最低限必要なデータ構造について説明します。

## CIRCUS DB/CS 共通

### シリーズ Series

シリーズとはDICOM画像のシリーズのことを指します。CIRCUSでは画像をDICOMシリーズ単位で管理しています。


:::tip

システム内部では全世界でグローバルであるDICOMシリーズのUID (Series Instance UID) で管理しています。このため、同一患者で検査日、series ID、series descriptionが同じ場合でもSeries Instance UIDが異なれば別々のseriesとして管理されます。

:::

:::note

PACSビューアや旧版CIRCUS CSのように患者単位、Study単位の検索は行えません。

:::


### ドメイン Domain

ドメインとは、セキュリティ確保目的で使用する、シリーズの「由来」「出所」を表すための文字列です。ユーザがシリーズ情報にアクセスする際には、そのシリーズに対するドメインレベルでのアクセス権限を持っているかを確認する必要があります。

:::tip

複数施設のデータを同じシステムに保存する場合には、施設毎にドメインを設定してユーザがアクセスできるシリーズの管理を行うことをお勧めします。

:::

### ユーザ User

ログインユーザのことです。CIRCUSでは将来の施設間でのデータエクスポート・インポート機能の実装に備えて、Eメールアドレス単位での管理をしています。また、エイリアスとしてログインIDを設定することも可能です。ユーザは複数のグループに所属することができ、そのレベルで CIRCUS 内の様々な操作への権限が付与されます（個々のユーザのレベルでは権限情報を持っていません）。

### グループ Group

ユーザが所属するグループのことです。各ユーザは複数のグループに同時に所属することができ、所属しているグループ経由で与えられる権限の和集合が、ユーザが保持している最終的な権限セットとなります。


## CIRCUS DB

### プロジェクト Project

名前の付いた「ケースの集合」がプロジェクトとなります。例えば、「肺結節検出用症例集」、「XXX病院の全身MR症例収集プロジェクト」といったものです。プロジェクトには複数のケースが含めることができます。

### ケース Case

ユーザ操作によって作成され、プロジェクトに集められる、個々の臨床症例のことで、CIRCUS DBで作成・編集される最も重要なデータです。各ケースは1つのプロジェクトに所属しています。ケースはリビジョンの集合としてバージョン管理されます。

ケースには複数のシリーズを登録することが可能です。例えば、造影CT検査の症例の造影前のシリーズと造影後のシリーズを同じケースに登録することができます。


### リビジョン Revision

あるケースを「保存」する毎に作成されていく逐次データのことを「リビジョン」と呼びます。一度作成したリビジョンは削除・更新できません。

### ケースアトリビュート Case Attribute

個々のケースの属性に関する任意の構造化情報であり、その構造は自由に設定できます。ケースアトリビュートはリビジョン管理の対象です。

### ラベル Label

ラベルは、ケース内で特定のシリーズに付随するアノテーション情報を保持します。ラベルはアノテーションデータと任意の属性情報（ラベルアトリビュート、Label Attribute）で構成されています。ラベルもリビジョン管理の対象です。

### タグ Tag

タグとは、ケースに付随する付箋（目印）です。ケースには複数のタグを付けることができます。典型的なタグは「確認待ち」、「正常症例」、「検証用」などです。

:::caution

プロジェクト管理画面で設定したタグ以外は付けることができません。また、タグはリビジョン管理されません。

:::


## CIRCUS CS

### プラグイン Plug-in

CIRCUS CSのプラグインは、ボリュームデータに変換したDICOM画像に対して画像処理を行い、その結果をWeb画面に出力するとともに、ユーザからの評価（フィードバック）を取得する、といったCIRCUS CSのコア機能を提供します。プラグインはDocker image形式となっています。


### ジョブ Job

CIRCUS CSのプラグインの実行指令は、「ジョブ」として登録され、登録時にジョブID（ハッシュ値）が割り当てられます。

