---
title: Data Structure
---

ここでは CIRCUS の利用に最低限必要なデータ構造について説明します。

## CIRCUS DB/CS 共通

### シリーズ Series

シリーズとは DICOM 画像のシリーズのことを指します。CIRCUS では画像を DICOM シリーズ単位で管理しています。

:::tip

システム内部では全世界でグローバルである DICOM シリーズの UID (Series Instance UID) で管理しています。このため、同一患者で検査日、series ID、series description が同じ場合でも Series Instance UID が異なれば別々の series として管理されます。

:::

:::note

PACS ビューアや旧版 CIRCUS CS のように患者単位、Study 単位の検索は行えません。

:::

### ドメイン Domain

ドメインとは、セキュリティ確保目的で使用する、シリーズの「由来」「出所」を表すための文字列です。ユーザがシリーズ情報にアクセスする際には、そのシリーズに対するドメインレベルでのアクセス権限を持っているかを確認する必要があります。

:::tip

複数施設のデータを同じシステムに保存する場合には、施設毎にドメインを設定してユーザがアクセスできるシリーズの管理を行うことをお勧めします。

:::

### ユーザ User

ログインユーザのことです。CIRCUS では将来の施設間でのデータエクスポート・インポート機能の実装に備えて、E メールアドレス単位での管理をしています。また、エイリアスとしてログイン ID を設定することも可能です。ユーザは複数のグループに所属することができ、そのレベルで CIRCUS 内の様々な操作への権限が付与されます（個々のユーザのレベルでは権限情報を持っていません）。

### グループ Group

ユーザが所属するグループのことです。各ユーザは複数のグループに同時に所属することができ、所属しているグループ経由で与えられる権限の和集合が、ユーザが保持している最終的な権限セットとなります。

## CIRCUS DB

### プロジェクト Project

名前の付いた「ケースの集合」がプロジェクトとなります。例えば、「肺結節検出用症例集」、「XXX 病院の全身 MR 症例収集プロジェクト」といったものです。プロジェクトには複数のケースが含めることができます。

### ケース Case

ユーザ操作によって作成され、プロジェクトに集められる、個々の臨床症例のことで、CIRCUS DB で作成・編集される最も重要なデータです。各ケースは 1 つのプロジェクトに所属しています。ケースはリビジョンの集合としてバージョン管理されます。

ケースには複数のシリーズを登録することが可能です。例えば、造影 CT 検査の症例の造影前のシリーズと造影後のシリーズを同じケースに登録することができます。

### リビジョン Revision

あるケースを「保存」する毎に作成されていく逐次データのことを「リビジョン」と呼びます。一度作成したリビジョンは削除・更新できません。

### ケースアトリビュート Case Attribute

個々のケースの属性に関する任意の構造化情報であり、その構造は自由に設定できます。ケースアトリビュートはリビジョン管理の対象です。

### ラベル Label

ラベルは、ケース内で特定のシリーズに付随するアノテーション情報を保持します。ラベルはアノテーションデータと任意の属性情報（ラベルアトリビュート、Label Attribute）で構成されています。ラベルもリビジョン管理の対象です。

### タグ Tag

タグとは、ケースに付随する付箋（目印）です。ケースには複数のタグを付けることができます。典型的なタグは「確認待ち」、「正常症例」、「検証用」などです。

:::caution

プロジェクト管理画面で設定したタグ以外は付けることができません。また、タグはリビジョン管理されません。

:::

## CIRCUS CS

### プラグイン Plug-in

CIRCUS CS のプラグインは、ボリュームデータに変換した DICOM 画像に対して画像処理を行い、その結果を Web 画面に出力するとともに、ユーザからの評価（フィードバック）を取得する、といった CIRCUS CS のコア機能を提供します。プラグインは Docker image 形式となっています。

### ジョブ Job

CIRCUS CS のプラグインの実行指令は、「ジョブ」として登録され、登録時にジョブ ID（ハッシュ値）が割り当てられます。
